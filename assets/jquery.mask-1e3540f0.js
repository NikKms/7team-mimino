var W=(e,p)=>()=>(p||e((p={exports:{}}).exports,p),p.exports);var O=W((V,D)=>{(function(e,p,x){typeof define=="function"&&define.amd?define(["jquery"],e):typeof V=="object"&&typeof Meteor>"u"?D.exports=e(require("jquery")):e(p||x)})(function(e){var p=function(t,s,c){var a={invalid:[],getCaret:function(){try{var r,i=0,n=t.get(0),o=document.selection,u=n.selectionStart;return o&&navigator.appVersion.indexOf("MSIE 10")===-1?(r=o.createRange(),r.moveStart("character",-a.val().length),i=r.text.length):(u||u==="0")&&(i=u),i}catch{}},setCaret:function(r){try{if(t.is(":focus")){var i,n=t.get(0);n.setSelectionRange?n.setSelectionRange(r,r):(i=n.createTextRange(),i.collapse(!0),i.moveEnd("character",r),i.moveStart("character",r),i.select())}}catch{}},events:function(){t.on("keydown.mask",function(r){t.data("mask-keycode",r.keyCode||r.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",a.getCaret()),a.maskDigitPosMapOld=a.maskDigitPosMap}).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",a.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){m!==a.val()&&!t.data("changed")&&t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){m=a.val()}).on("focus.mask",function(r){c.selectOnFocus===!0&&e(r.target).select()}).on("focusout.mask",function(){c.clearIfNotMatch&&!y.test(a.val())&&a.val("")})},getRegexMask:function(){for(var r=[],i,n,o,u,d,h,v=0;v<s.length;v++)i=f.translation[s.charAt(v)],i?(n=i.pattern.toString().replace(/.{1}$|^.{1}/g,""),o=i.optional,u=i.recursive,u?(r.push(s.charAt(v)),d={digit:s.charAt(v),pattern:n}):r.push(!o&&!u?n:n+"?")):r.push(s.charAt(v).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return h=r.join(""),d&&(h=h.replace(new RegExp("("+d.digit+"(.*"+d.digit+")?)"),"($1)?").replace(new RegExp(d.digit,"g"),d.pattern)),new RegExp(h)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(r){var i=t.is("input"),n=i?"val":"text",o;return arguments.length>0?(t[n]()!==r&&t[n](r),o=t):o=t[n](),o},calculateCaretPosition:function(r){var i=a.getMasked(),n=a.getCaret();if(r!==i){var o=t.data("mask-previus-caret-pos")||0,u=i.length,d=r.length,h=0,v=0,k=0,g=0,l=0;for(l=n;l<u&&a.maskDigitPosMap[l];l++)v++;for(l=n-1;l>=0&&a.maskDigitPosMap[l];l--)h++;for(l=n-1;l>=0;l--)a.maskDigitPosMap[l]&&k++;for(l=o-1;l>=0;l--)a.maskDigitPosMapOld[l]&&g++;if(n>d)n=u*10;else if(o>=n&&o!==d){if(!a.maskDigitPosMapOld[n]){var b=n;n-=g-k,n-=h,a.maskDigitPosMap[n]&&(n=b)}}else n>o&&(n+=k-g,n+=v)}return n},behaviour:function(r){r=r||window.event,a.invalid=[];var i=t.data("mask-keycode");if(e.inArray(i,f.byPassKeys)===-1){var n=a.getMasked(),o=a.getCaret(),u=t.data("mask-previus-value")||"";return setTimeout(function(){a.setCaret(a.calculateCaretPosition(u))},e.jMaskGlobals.keyStrokeCompensation),a.val(n),a.setCaret(o),a.callbacks(r)}},getMasked:function(r,i){var n=[],o=i===void 0?a.val():i+"",u=0,d=s.length,h=0,v=o.length,k=1,g="push",l=-1,b=0,P=[],w,A;c.reverse?(g="unshift",k=-1,w=0,u=d-1,h=v-1,A=function(){return u>-1&&h>-1}):(w=d-1,A=function(){return u<d&&h<v});for(var G;A();){var I=s.charAt(u),j=o.charAt(h),M=f.translation[I];M?(j.match(M.pattern)?(n[g](j),M.recursive&&(l===-1?l=u:u===w&&u!==l&&(u=l-k),w===l&&(u-=k)),u+=k):j===G?(b--,G=void 0):M.optional?(u+=k,h-=k):M.fallback?(n[g](M.fallback),u+=k,h-=k):a.invalid.push({p:h,v:j,e:M.pattern}),h+=k):(r||n[g](I),j===I?(P.push(h),h+=k):(G=I,P.push(h+b),b++),u+=k)}var R=s.charAt(w);d===v+1&&!f.translation[R]&&n.push(R);var S=n.join("");return a.mapMaskdigitPositions(S,P,v),S},mapMaskdigitPositions:function(r,i,n){var o=c.reverse?r.length-n:0;a.maskDigitPosMap={};for(var u=0;u<i.length;u++)a.maskDigitPosMap[i[u]+o]=1},callbacks:function(r){var i=a.val(),n=i!==m,o=[i,r,t,c],u=function(d,h,v){typeof c[d]=="function"&&h&&c[d].apply(this,v)};u("onChange",n===!0,o),u("onKeyPress",n===!0,o),u("onComplete",i.length===s.length,o),u("onInvalid",a.invalid.length>0,[i,r,t,a.invalid,c])}};t=e(t);var f=this,m=a.val(),y;s=typeof s=="function"?s(a.val(),void 0,t,c):s,f.mask=s,f.options=c,f.remove=function(){var r=a.getCaret();return f.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),a.destroyEvents(),a.val(f.getCleanVal()),a.setCaret(r),t},f.getCleanVal=function(){return a.getMasked(!0)},f.getMaskedVal=function(r){return a.getMasked(!1,r)},f.init=function(r){if(r=r||!1,c=c||{},f.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,f.byPassKeys=e.jMaskGlobals.byPassKeys,f.translation=e.extend({},e.jMaskGlobals.translation,c.translation),f=e.extend(!0,{},f,c),y=a.getRegexMask(),r)a.events(),a.val(a.getMasked());else{c.placeholder&&t.attr("placeholder",c.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var i=0,n=!0;i<s.length;i++){var o=f.translation[s.charAt(i)];if(o&&o.recursive){n=!1;break}}n&&t.attr("maxlength",s.length).data("mask-maxlength",!0),a.destroyEvents(),a.events();var u=a.getCaret();a.val(a.getMasked()),a.setCaret(u)}},f.init(!t.is("input"))};e.maskWatchers={};var x=function(){var t=e(this),s={},c="data-mask-",a=t.attr("data-mask");if(t.attr(c+"reverse")&&(s.reverse=!0),t.attr(c+"clearifnotmatch")&&(s.clearIfNotMatch=!0),t.attr(c+"selectonfocus")==="true"&&(s.selectOnFocus=!0),E(t,a,s))return t.data("mask",new p(this,a,s))},E=function(t,s,c){c=c||{};var a=e(t).data("mask"),f=JSON.stringify,m=e(t).val()||e(t).text();try{return typeof s=="function"&&(s=s(m)),typeof a!="object"||f(a.options)!==f(c)||a.mask!==s}catch{}},K=function(t){var s=document.createElement("div"),c;return t="on"+t,c=t in s,c||(s.setAttribute(t,"return;"),c=typeof s[t]=="function"),s=null,c};e.fn.mask=function(t,s){s=s||{};var c=this.selector,a=e.jMaskGlobals,f=a.watchInterval,m=s.watchInputs||a.watchInputs,y=function(){if(E(this,t,s))return e(this).data("mask",new p(this,t,s))};return e(this).each(y),c&&c!==""&&m&&(clearInterval(e.maskWatchers[c]),e.maskWatchers[c]=setInterval(function(){e(document).find(c).each(y)},f)),this},e.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each(function(){var t=e(this).data("mask");t&&t.remove().removeData("mask")})},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(t){t=t||e.jMaskGlobals.maskElements;var s=t instanceof e?t:e(t);s.filter(e.jMaskGlobals.dataMaskAttr).each(x)};var C={maskElements:"input,td,span,div",dataMaskAttr:"[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&K("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};e.jMaskGlobals=e.jMaskGlobals||{},C=e.jMaskGlobals=e.extend(!0,{},C,e.jMaskGlobals),C.dataMask&&e.applyDataMask(),setInterval(function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()},C.watchInterval)},window.jQuery,window.Zepto)});export default O();
